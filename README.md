# jacoco-tutorial ‚òï

![Coverage](.github/badges/jacoco.svg)

<p align="center">
   <img width="400" height="100" src="https://github.com/BadrOuaddah/jacoco-tutorial/assets/119801735/48dad887-c017-4e41-bc47-3689c2f9a2f6">
</p>

## What is JaCoCo ?

Jacoco is an open source project, which can be used to check production code for test code coverage and reporting it via visual reports. So there are also Gradle, SonarQube and Jenkins plugins to make these code coverage checks outside the IDE and therefore globally available to the development team.
[Read more...](https://www.jacoco.org/)

## What about my project ?

This is a simple example in java ‚òï with gradle build automation tool üêò

To use Jacoco in Gradle is straight forward. The _jacoco_plugin can be applied and by default places a report into $buildDir/reports/jacoco/test.

```
plugins {
    // other plug-ins
    id 'jacoco'
}
```

And configuration sets up a build process where the test task is executed first, followed by the jacocoTestReport task. The jacocoTestReport task generates test coverage reports, specifically in CSV format, once the test task has completed.

```

test {
    finalizedBy jacocoTestReport
}
jacocoTestReport {
    dependsOn test
}


jacocoTestReport {
    reports {
        csv.enabled true
    }
}

check.dependsOn jacocoTestReport
```
the jacocoTestReport task further by specifying that the reports generated by the task should be in CSV format. The csv.enabled true line enables the CSV report format.

And Create jacoco-gradle.yml to generate JaCoCo badge and commit it 

```
    - name: Generate JaCoCo Badge
      uses: cicirello/jacoco-badge-generator@v2
      with:
        generate-branches-badge: true
        jacoco-csv-file: build/customJacocoReportDir/test/jacocoTestReport.csv
        
    - name: Update Jacoco Badge
      uses: test-room-7/action-update-file@v1
      with:
        file-path: .github/badges/jacoco.svg
        commit-msg:  Update Jacoco Badge
        github-token: ${{ secrets.GITHUB_TOKEN }}
```
